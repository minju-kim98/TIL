# 12 반응형 웹과 미디어 쿼리
* 반응형 웹 디자인은 사용자의 접속 환경에 맞추어 사이트의 레이아웃을 자연스럽게 바꾸어 보여 주는 것을 말한다.

## 12-1 반응형 웹 알아보기
### 반응형 웹 디자인이란
* 반응형 웹 디자인은 웹 요소를 화면 크기에 맞게 재배치하고 각 요소의 표시 방법만 바꾸어 사이트를 구현해준다.
### 모바일 기기를 위한 뷰포트
* 뷰포트를 지정하면 접속한 기기의 화면에 맞추어 확대하거나 축소해서 표히살 수 있으며, '뷰포트'란 스마트폰 화면에서 실제 내용이 표시되는 영역이다.
* 웹키트(webkit)를 기반으로 한 모바일 브라우저의 기본 뷰포트 너비는 980px이다.
### 뷰포트 지정하기
* 뷰포트는 ```<meta>```태그를 이용해 ```<head>```와 ```</head>```태그 사이에 작성한다.
```css
<meta name="viewport" content="속성1=값1, 속성2=값2, ..... ">
```
종류|설명|사용 가능한 값|기본값
---|---|---|---
width|뷰포트 너비|device-height 또는 크기 | 브라우저 기본값
height|뷰포트 높이|device-height 또는 크기 | 브라우저 기본값
user-scalable|확대, 축소 가능 여부|yes 또는 no <br>(yes는 1로, device-width와 device-height값은 10으로 간주)|yes
initial-scale|초기 확대, 축소 값|1 ~ 10|1

* 다음은 가장 많이 사용하는 뷰포트 속성으로 웹 페이지 뷰포트의 너비를 스마트폰 화면 너비에 맞추고 초기 화면 배율을 1로 지정한다.
```css
<meta name="viewport" content="width=device-width, initial-scale=1">
```
### 뷰포트 단위
* 뷰포트 개념이 등장하기 전까지는 CSS에서 크기를 지정할 때 주로 px, %의 단위를 사용했지만 이제는 다음과 같이 뷰포트를 기준으로 하는 단위를 사용할 수도 있다.
```
* vw(viewport width): 1vw는 뷰포트 너비의 1%와 같다.
* vh(viewport height): 1vh는 뷰포트 높이의 1%와 같다.
* vmin(viewport minimum): 뷰포트 너비와 높이 중에서 작은 값의 1%와 같다.
* vmax(viewport maximum): 뷰포트 너비와 높이 중에서 큰 값의 1%와 같다.
```
* ```sources/12/vw.html 참조```
---

## 12-2 미디어 쿼리 알아보기
* 미디어 쿼리는 반응형 웹 디자인에서 가장 기본적인 개념으로, 사이트에 접근하는 기기의 해상도에 따라 서로 다른 스타일 시트를 적용해 주는 것이다.
### 미디어 쿼리 알아보기
* CSS 모듈인 미디어 쿼리(media queries)는 사이트에 접속하는 장치에 따라 특별한 CSS 스타일을 사용하는 방법이다. 미디어 쿼리를 사용하면 접속하는 기기의 화면 크기에 따라 레이아웃이 달라진다.
* ```sources/12/index.html 참조```

### 미디어 퀴리 구문
* 미디어 쿼리는 @media 속성을 사용해 특정 미디어에서 어떤 css를 적용할 것인지 지정해준다.
```css
@media [only | not] 미디어 유형 [and 조건] * [and 조건]

* only: 미디어 쿼리를 지원하지 않는 웹 브라우저에서는 미디어 쿼리를 무시하고 실행하지 않는다.
* not: not 다음에 지정하는 미디어 유형을 제외한다.
* and: 조건을 여러 개 연결해서 추가할 수 있다.
```
* 미디어 쿼리 구문은 ```<style>```과 ```</style>```사이에 사용하며 대소 문자를 구별하지 않는다. 기본적으로 미디어 유형을 지정해야 하고 필요할 경우에는 and 연산자로 조건을 적용한다.
```css
@media screen and (min-width: 768px) and (max-width: 1439px){
    ...
}
```

#### 미디어 유형의 종류
* @media 속성의 미디어 유형은 아래 표와 같다:

종류|설명
---|---
all|모든 미디어 유형에서 사용할 CSS를 정의한다.
print|인쇄 장치에서 사용할 CSS를 정의한다.
screen|컴퓨터 스크린에서 사용할 CSS를 정의한다. 스마트폰의 스크린도 포함된다.
tv|음성과 영상이 동시에 출력되는 TV에서 사용할 CSS를 정의한다.
aural|음성 합성 장치(주로 화면을 읽어 소리로 출력해 주는 장치)에서 사용할 CSS를 정의한다.
braille|점자 표시 장치에서 사용할 CSS를 정의한다.
handheld|패드(pad)처럼 손에 들고 다니는 장치를 위한 CSS를 정의한다.
projection|프로젝터를 위한 CSS를 정의한다.
tty| 디스플레이 기능이 제한된 장치에 맞는 CSS를 정의한다. 이런 장치에서는 픽셀(px) 단위를 사용할 수 없다.
embossed|점자 프린터에서 사용할 CSS를 정의한다.

#### 웹 문서의 가로 너비와 세로 높이 속성
* 실제 웹 문서 내용이 화면에 나타나는 영역을 뷰포트라고 하는데 뷰포트의 너비와 높이를 미디어의 쿼리의 조건으로 사용할 수 있다. 이때 높잇값은 미디어에 따라 달라지므로 주의해야 한다.
* screen이 아닌 미디어에서는 스트롤을 포함한 전체 문서를 height로 지정해야 하며, print에서는 한 페이지 높이를 기준으로 한다.

종류|설명
---|---
width, height|웹 페이지의 가로 너비, 세로 높이
min-width, min-height|웹 페이지의 최소 너비, 최소 높이
max-width, max-height|웹 페이지의 최대 너비, 최대 높이

#### 단말기의 가로 너비와 세로 높이 속성
* 단말기의 너비와 높이는 단말기 브라우저 창의 너비와 높이를 말한다. 이때 주의할 점은 대부분의 단말기 해상도와 실제 브라우저의 너비가 다르다는 것이다. 단말기 너비나 높이를 고려해 미디어 쿼리를 작성해야 한다면 아래 표와 같은 속성을 사용해야 한다.

종류|설명
---|---
device-width, device-height|단말기의 가로 너비, 세로 높이
min-device-width, min-device-height|단말기의 최소 너비, 최소 높이
max-device-width, max-device-height|단말기의 최대 너비, 최대 높이

#### 화면 회전 속성
* orientation 속성을 사용하면 기기의 방향을 확인할 수 있고, 그에 따라서 웹 사이트의 레이아웃을 바꿀 수 있다.

종류|설명
---|---
orientation: portrait|단말기의 세로 모드
orientation: landscape|단말기의 가로 모드 (기본값)

* 이 외에도 화면 비율이나 단말기 화면 비율, 색상당 비트 수 같은 여러가지 미디어 쿼리 조건이 있다.

#### 미디어 쿼리의 중단점
* 미디어 쿼리를 작성할 때 화면 크기에 따라 서로 다른 CSS를 적용할 분기점을 중단점(break point)이라고 한다. 대부분은 기기의 화면 크기를 기준으로 한다. 하지만 시중에 나온 모든 기기를 반영할 수는 없으므로 모바일과 태블릿, 데스크톱 정도로만 구분하는 것이 좋다.
* 보통 모바일의 제약 조건이 더 많으므로 모바일의 레이아웃을 기본으로 하여 CSS를 만든다. 그러고 나서 사양이 좀 더 좋고 화면이 큰 태블릿과 데스크톱에 맞춰 더 많은 기능과 스타일을 추가한다. 이렇게 하는 것을 모바일 퍼스트(mobile first)기법이라고 한다.
```
* 스마트폰: 모바일 페이지는 미디어 쿼리를 사용하지 않고 기본 CSS로 작성한다. 만일 스마트폰의 방향까지 고려해서 제작한다면 min-width의 세로와 가로를 각각 portrait 320px, landscape 480px로 지정한다.
* 태블릿: 세로 크기가 768px 이상이면 테블릿으로 지정한다. 가로 크기는 데스톱과 똑같이 1024px 이상으로 지정한다.
* 데스크톱: 화면 크기가 1024px 이상이면 데스크톱으로 설정한다.
```
* 특정한 기기에 맞는 미디어 쿼리를 작성하는ㄴ데 필요한 뷰포트의 크깃값이 정리되어있는 사이트( https://yesviz.com/devices.php )가 있다.
### 미디어 쿼리 적용하기
#### 외부 CSS 파일 연결하기
```css
<link rel="stylesheet" media="미디어 쿼리 조건" href="css 파일 경로">
```
```css
@import url(css 파일 경로) 미디어 쿼리 조건
```
* CSS 파일이 많고 규모가 큰 사이트를 개발한다면 ```@import```문보다 ```<link>``` 태그를 주로 사용한다.

#### 웹 문서에 직접 정의하기
```html
<style media="<조건>">{
    <스타일 규칙>
}
</style>
```
```html
<style>
  @media <조건> {
    <스타일 규칙>
  }
</style>
```
* 첫 번째 방법은 하나의 ```<style>```태그 안에서 하나의 조건을 지정하지만, 두 번째 방법은 ```<style>```태그 안에 여러 개의 조건에 따른 스타일을 모두 나열해놓고 그중에서 선택해서 사용한다.
* ```sources/12/mq-result.html 참조```

---

## 12-3 그리드 레이아웃 알아보기
### 그리드 레이아웃이란
* 반응형 웹 디자인을 사용한 사이트는 화면 너비에 따라 웹 문서의 요소를 재배치해야 한다. 재배치하려면 기준이 되는 레이아웃이 필요한데, 이때 그리드 레이아웃을 사용한다.
* 그리드 레이아웃이란 웹사이트를 여러개의 칼럼으로 나눈 후 메뉴나 본문, 이미지 등의 웹 요소를 화면에 맞게 배치하는 것을 말한다.
#### 시각적으로 안정된 디자인을 만들 수 있다
#### 업데이트가 편한 웹 디자인을 구성할 수 있다
#### 요소를 자유롭게 배치할 수 있다

### 그리드 레이아웃을 만드는 방법
* 기존에 알고 있던 가변 그리드를 CSS의 ```float``` 속성으로 사용할 수도 있고, 플렉서블 박스 레이아웃이나 CSS 그리드 레이아웃으로 적용할 수도 있다.
#### 플렉서블 박스 레이아웃
* 그리드 레이아웃을 기본으로 하고 각 박스를 원하는 위치에 따라 배치하는 것이다. 흔히 ```플렉스 박스 레이아웃```이라고도 한다.
* 수평 방향이나 수직 방향 중에서 한쪽을 주축으로 정하고 박스를 배치한다.
#### CSS 그리드 레이아웃
* CSS 그리드 레이아웃은 수평과 수직 어느 방향이든 배치할 수 있다.
* 대부분 모던 브라우저에서 사용할 수 있다.
---
## 12-4 플렉스 박스 레이아웃 알아보기
### 플렉스 박스 레이아웃에서 사용하는 용어
* 그리드 레이아웃을 기본으로 해서 새로 등장한 개념이다.
  * 플렉스 컨테이너(부모박스): 플렉스 박스 레이아웃을 적용할 대상을 묶는 요소이다.
  * 플렉스 항목(자식박스): 플렉스 박스 레이아웃을 적용할 대상이다.
  * 주축 (main axis): 플렉스 컨테이너 안에서 플렉스 항목을 배치하는 기본방향이다. 기본적으로 왼쪽에서 오른쪽이며 수평 방향으로 배치한다. 플렉스 항목의 배치가 시작되는 위치를 '주축 시작점', 끝나는 위치를 '주축 끝점'이라고 한다.
  * 교차축 (cross axis): 주축과 교차하는 방향을 말하며 기본적으로 위에서 아래로 배치한다. 플렉스 항목의 배치가 시작되는 위치를 '교차축 시작점', 끝나는 위치를 '교차축 끝점'이라고 한다.

### 플렉스 박스 항목을 배치하는 속성
* 플렉스 박스에는 플렉스 항목이 여러 개 있는데, 일괄적으로 한꺼번에 배치할 수도 있고, 주축이나 교차축 기준으로 다양하게 배치할 수도 있다.

종류|설명
---|---
justify-content|주축 방향의 정렬 방법이다.
align-items|교차축 방향의 정렬 방법이다.
align-self|교차축에 있는 개별 항목의 정렬 방법이다.
align-content|교차축에서 여러 줄로 표시된 항목의 정렬 방법이다.

#### 플렉스 컨테이너를 지정하는 ```display``` 속성
* 먼저 웹 콘텐츠를 플렉스 컨테이너로 묶어 주어야 한다. 이때 특정 요소가 플렉스 컨테이너로 동작하려면 ```display```속성을 이용해 지정해야 한다.

종류|설명
---|---
flex|컨테이너 안의 플렉스 항목을 블록 레벨 요소로 배치한다.
inline-flex|컨테이너 안의 플렉스 항목을 인라인 레벨 요소로 배치한다.

#### 플렉스 방향을 지정하는 ```flex-direction``` 속성
* 플렉스 컨테이너 안에서 플렉스 항목을 배치하는 주축과 방향을 지정하는 속성이다.

종류|설명
---|---
row|주축을 가로로 지정하고 왼쪽에서 오른쪽으로 배치한다. 기본값.
row-reverse|주축을 가로로 지정하고 반대로 오른쪽에서 왼쪽으로 배치한다.
column|주축을 세로로 지정하고 위쪽에서 아래쪽으로 배치한다.
column-reverse|주축을 세로로 지정하고 아래쪽에서 위쪽으로 배치한다.

* ```sources/12/flex-1.html 참조```

#### 플렉스 항목의 줄을 바꾸는 ```flex-wrap``` 속성
* 플렉스 컨테이너 너비보다 많은 플렉스 항목이 있을 경우 줄을 바꿀지 여부 지정.

종류|설명
---|---
nowrap|플렉스 항목을 한 줄에 표시. (기본값)
wrap|플렉스 항목을 여러 줄에 표시.
wrap-reverse|플렉스 항목을 여러 줄에 표시하되, 시작점과 끝점이 바뀜.

* ```sources/12/flex-2.html 참조```

#### 배치 방향과 줄 바꿈을 한꺼번에 지정하는 ```flex-flow``` 속성
* ```flex-direction``` 속성과 ```flex-wrap``` 속성을 한꺼번에 지정하여 플렉스 항목의 배치 방향을 결정하거나 줄을 바꾼다.
* 기본값은 ```row nowrap```.
* ```sources/12/flex-3.html 참조```

#### 주축 정렬 방법을 지정하는 ```justify-content``` 속성
* 주축에서 플렉스 항목 간의 정렬 방법을 지정한다.

종류|설명
---|---
flex-start|주축의 시작점에 맞춰 배치한다.
flex-end|주축의 끝점에 맞춰 배치한다.
center|주축의 중앙에 맞춰 배치한다.
space-between|첫 번째 항목과 끝 항목을 주축의 시작점과 끝점에 배치한 후 나머지 항목은 그 사이에 같은 간격으로 배치한다.
space-around|모든 항목을 주축에 같은 간격으로 배치한다.

* ```sources/12/flex-4.html 참조```

#### 교차축 정렬 방법을 지정하는 ```align-items``` 속성
* 교차축을 기준으로 플렉스 항목을 정렬한다.

종류|설명
---|---
flex-start|교차축의 시작점에 맞춰 배치한다.
flex-end|교차축의 끝점에 맞춰 배치한다.
center|교차축의 중앙에 맞춰 배치한다.
baseline|교차축의 문자 기준선에 맞춰 배치한다.
stretch|플렉스 항목을 늘려 교차축에 가득 차게 배치한다.

* ```sources/12/flex-5.html 참조```

#### 특정 항목만 정렬 방법을 지정하는 ```align-self``` 속성
* ```align-item```속성은 교차축을 기준으로 플렉스 항목의 정렬 방법을 결정하지만 그중에서 특정 항목만 지정하고 싶다면 ```align-self``` 속성을 사용한다.
* ```align-item```속성은 플렉스 컨테이너를 지정하는 선택자에서 사용하지만 ```align-self```속성은 플렉스 항목 선택자에서 사용한다.
* ```align-self``` 속성에서 사용하는 값은 ```align-items```속성에서 사용하는 값과 같다.

* ```sources/12/flex-6.html 참조```

#### 여러 줄일 때 교차축 정렬 방법을 지정하는 ```align-content``` 속성
* 주축에서 줄바꿈이 생겨서 플렉스 항목을 여러 줄로 표시할 때 사용하면 교차축에서 플렉스 항목 간의 간격을 지정할 수 있다.

종류|설명
---|---
flex-start|교차축의 시작점에 맞춰 배치한다.
flex-end|교차축의 끝점에 맞춰 배치한다.
center|교차축의 중앙에 맞춰 배치한다.
space-between|첫 번째 항목과 끝 항목을 교차축의 시작점과 끝점에 맞추고 나머지 항목은 그 사이에 같은 간격으로 배치한다.
space-around|모든 항목을 교차축에 같은 간격으로 배치한다.
stretch|플렉스 항목을 늘려 교차축에 가득 차게 배치한다.

* ```sources/12/flex-7.html 참조```

#### 플랙스 레이아웃을 활용해 항상 중앙에 표시하기
* ```sources/12/flex-12.html 참조```

---
## 12-5 CSS 그리드 레이아웃 사용하기
* 소스를 최대한 간단하게 유지하면서 대부분의 기기에 대응할 수 있는 그리드 레이아웃 기법이 바로 CSS 그리드 레이아웃이다.
### CSS 그리드 레이아웃에서 사용하는 용어
* 플렉스 박스 레이아웃에서는 플렉스 항목을 배치할 때 가로나 세로 중에서 하나를 주축으로 정해놓고 배치했다면, CSS 그리드 레이아웃에서는 그리드 항목을 배치할 때 가로와 세로를 모두 사용한다.
* 가로 방향을 가리키는 줄(row)과 세로 방향을 가리키는 칼럼(column)으로 웹 화면을 구성한다. 그리고 칼럼과 칼럼 사이, 줄과 줄 사이의 간격을 지정해서 원하는 형태의 레이아웃을 만든다.

### CSS 그리드 레이아웃 항목을 배치하는 속성
#### 그리드 컨테이너를 지정하는 ```display```속성
* 가장 먼저 그리드를 적용할 요소의 바깥 부분을 그리드 컨테이너로 만들어야 한다.

종류|설명
---|---
grid|컨테이너 안의 항목을 블록 레벨 요소로 배치한다.
inline-grid|컨테이너 안의 항목을 인라인 레벨 요소로 배치한다.
#### 칼럼과 줄을 지정하는 ```grid-template-colums```, ```grid-template-rows```속성
* ```grid-template-colums``` 속성은 그리드 컨테이너 안의 항목을 몇 개의 칼럼으로 배치할지, 각 칼럼의 너비를 얼마로 할지 지정한다.

* ```sources/12/grid-1.html 참조```

#### 상대적인 크기를 지정하는 ```fr``` 단위
* 칼럼이나 줄의 크기를 지정할 때 픽셀(px)을 이용하면 항상 크기가 고정되므로 반응형 웹 디자인에는 적합하지 않는다. 그래서 상대적인 크기를 지정할 수 있도록 fr(fraction) 단위를 사용한다.
* 칼럼을 2:1:2로 배치하고 싶으면 다음과 같이 지정한다.:

  ```grid-template-columns: 2fr 1fr 2fr```

#### 값이 반복될 때 줄여서 표현할 수 있는 ```repeat()```함수
* px이나 fr 단위를 사용하면 똑같은 값을 여러번 반복해야 하는데, 이 때 CSS 그리드 레이아웃에 내장된 ```repeat()```함수를 사용하면 반복하지 않고 간단하게 표현할 수 있다.
```css
/*변경 전*/
grid-template-columns: 1fr 1fr 1fr;
/*변경 후*/
grid-template-columns: repeat(3, 1fr);
```
#### 최솟값과 최댓값을 지정하는 ```minmax()```함수
* 줄 높이를 지정하면 줄 높이보다 내용이 더 많으면 보이지 않는다. 이럴 때 ```minmax()``` 함수를 사용하면 줄 높이를 고정하지 않고 최솟값을 최댓값을 사용해서 유연하게 지정할 수 있다.
* ```sources/12/grid-2.html 참조```

#### 자동으로 칼럼 개수를 조절하는 ```auto-fill```, ```auto-fit```값
#### 그리드 항목의 간격을 지정하는 ```grid-column-gap```, ```grid-row-gap```, ```grid-gap```속성
#### 그리드 라인을 이용해 배치하기
#### 템플릿 영역을 만들어 배치하기

* ```sources/12/pattern.html 참조```

```css
```

종류|설명
---|---